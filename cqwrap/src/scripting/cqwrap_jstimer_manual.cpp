#include "cqwrap_register_all_manual.h"

void register_cqwrap_jstimer(JSContext* cx, JSObject* obj) {
	ScriptingCore::getInstance()->evalString("(function(){var timers=[];cc.setTimeout=function(callback,interval){cc.Director.getInstance().getScheduler().scheduleCallbackForTarget(this,callback,interval/1000,0,0,false);timers.push(callback);return timers.length-1};cc.setInterval=function(callback,interval){cc.Director.getInstance().getScheduler().scheduleCallbackForTarget(this,callback,interval/1000,cc.REPEAT_FOREVER,0,false);timers.push(callback);return timers.length-1};cc.clearTimeout=cc.clearInterval=function(id){var callback=timers[id];if(callback!=null){cc.Director.getInstance().getScheduler().unscheduleCallbackForTarget(this,callback);timers[id]=null;}};if(typeof setTimeout=='undefined'){setTimeout=cc.setTimeout;clearTimeout=cc.clearTimeout}if(typeof setInterval=='undefined'){setInterval=cc.setInterval;clearInterval=cc.clearInterval}})();", NULL);
}